import{_ as m,k as n,l as b,a2 as d,i as y,f as a,o as r,a as c,F as x,p as C,n as p,h as M,t as _}from"./app-DHppAmMz.js";const L=["onMouseenter","onClick"],B=["innerHTML"],H={key:0,class:"label"},V={__name:"NavigationDrawer",setup(N){const s=n(!1),l=n(!1),i=n(null),h=n(null),f=n("User"),u=n("");b(async()=>{var o;try{const t=(o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"),e=await d.get("/api/user",{headers:{"X-CSRF-TOKEN":t,Accept:"application/json","Content-Type":"application/json"}});console.log("User data:",e.data),h.value=e.data.userID,f.value=e.data.username||e.data.name||"User",u.value=e.data.userType||e.data.role||""}catch(t){console.error("Error fetching user:",t),f.value="User"}});const w=y(()=>{const o=[{label:`${f.value}`,route:"/profile",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" width="24" height="24" color="#ffffff"><circle fill="none" stroke="#ffffff" stroke-miterlimit="10" cx="12" cy="7.25" r="5.73"></circle><path fill="none" stroke="#ffffff" stroke-miterlimit="10" d="M1.5,23.48l.37-2.05A10.3,10.3,0,0,1,12,13h0a10.3,10.3,0,0,1,10.13,8.45l.37,2.05"></path></svg>'},{label:"Events",route:"/events",icon:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" width="24" height="24" color="#ffffff"><defs><style>.cls-637b88e7f95e86b59c57a1ef-1{fill:none;stroke:currentColor;stroke-miterlimit:10;}</style></defs><line class="cls-637b88e7f95e86b59c57a1ef-1" x1="0.55" y1="22.5" x2="23.45" y2="22.5"></line><line class="cls-637b88e7f95e86b59c57a1ef-1" x1="9.14" y1="1.5" x2="21.55" y2="22.5"></line><line class="cls-637b88e7f95e86b59c57a1ef-1" x1="14.86" y1="1.5" x2="2.45" y2="22.5"></line><polygon class="cls-637b88e7f95e86b59c57a1ef-1" points="15.82 22.5 8.18 22.5 12 14.86 15.82 22.5"></polygon></svg>'},{label:"Forums",route:"/forum",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 5V20.7929C3 21.2383 3.53857 21.4614 3.85355 21.1464L7.70711 17.2929C7.89464 17.1054 8.149 17 8.41421 17H19C20.1046 17 21 16.1046 21 15V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5Z" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'}];return u.value==="Admin"&&o.push({label:"Dashboard",route:"/dashboard",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3V21H21M7 16L12.25 10.75L15.75 14.25L21 9" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'}),o.push({label:"Log Out",route:"/",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 17V18C12 19.6569 10.6569 21 9 21H6C4.34315 21 3 19.6569 3 18V6C3 4.34315 4.34315 3 6 3H9C10.6569 3 12 4.34315 12 6V7M17 8L21 12L17 16M9 12H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',logout:!0}),o});function g(o,t){if(t.logout){k();return}typeof o=="function"&&(o=o()),window.location.href=o}function k(){d.post("/logout").then(()=>{window.location.href="/"})}return(o,t)=>(r(),a("div",{class:p(["nav-drawer",{open:s.value||l.value}]),onMouseenter:t[1]||(t[1]=e=>!l.value&&(s.value=!0)),onMouseleave:t[2]||(t[2]=e=>!l.value&&(s.value=!1))},[c("nav",null,[c("ul",null,[(r(!0),a(x,null,C(w.value,e=>(r(),a("li",{key:e.label,class:p(["nav-item",{hovered:i.value===e.label}]),onMouseenter:v=>i.value=e.label,onMouseleave:t[0]||(t[0]=v=>i.value=null),onClick:v=>g(e.route,e)},[c("span",{class:"icon",innerHTML:e.icon},null,8,B),s.value||l.value?(r(),a("span",H,_(e.label),1)):M("",!0)],42,L))),128))])])],34))}},j=m(V,[["__scopeId","data-v-04dd95cc"]]);export{j as N};
